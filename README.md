# Option Strategy Backtesting Engine

A high-performance, event-driven backtesting engine written in C++ designed to simulate and analyze option trading strategies. The system emphasizes low-latency data processing and extensible architecture.

## Architecture

Up untill now the project tries a modular, object-oriented design to ensure separation of concerns between data ingestion, strategy execution, and order management.

### 1. Data Ingestion (Factory Pattern)
Data loading is decoupled from the core engine using the **Abstract Factory Pattern**.
* **DataSourceFactory**: An abstract interface for creating data sources.
* **FactoryRegistry**: A **Singleton** registry that manages available data source types (e.g., CSV, URL). This allows new data formats to be added without modifying the core codebase.
* **DataSource**: Abstract base class ensuring all data sources implement a standardized `loadData` method returning a vector of `OptionContract` objects.

### 2. Data Handling
The `DataHandler` class serves as the central feed mechanism. It aggregates data from multiple sources, manages memory for `OptionContract` objects, and acts as the generator for the event loop.

### 3. Event-Driven System
The engine utilizes a derived **Event** hierarchy to handle state transitions
* **MarketEvent**: Triggered when new market data (OHLC, Greeks) is available.
* **SignalEvent**: Generated by the Strategy logic indicating a trading opportunity.
* **OrderEvent**: Represents a request to execute a trade.
* **FillEvent**: Represents the execution of an order by the broker/exchange simulator.

## Current Status

* **Core Infrastructure**: Implemented `DataHandler`, `DataSource` interfaces, and the `FactoryRegistry`.
* **Data Parsing**: Functional `CSVDataSource` for parsing NIFTY option data, including Greeks and implied volatility.
* **Event Loop**: Basic iteration loop implemented in `main.cpp` to validate data throughput and parsing speed.
* **Performance Metrics**: temporary metrics To measure data loading and processing latency.

## To-Do List

* **Strategy Implementation**: Create a `Strategy` base class to consume `MarketEvent` and generate `SignalEvent`.
* **Portfolio Management**: Implement a `Portfolio` class to handle `FillEvent`, track positions, and calculate PnL.
* **Execution Handler**: Build a simulated execution handler to process `OrderEvent` objects.
* **Quantitative Math Library**: Develop a custom wrapper for pricing models (e.g., Black-Scholes) and statistical risk metrics.
* **gRPC Integration**: Develop a gRPC service if applicable for real-time data streaming and remote command execution .  